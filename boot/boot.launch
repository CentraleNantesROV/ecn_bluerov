<?xml version="1.0"?>

<launch>

    <group ns="pirov">  
        
        <!-- thruster interface -->
         <node name="pwm_interface" pkg="ecn_bluerov" type="pirov_pwm" respawn="true"/>
        
        <!-- sensor interface -->
        <node type="raspicam_node" pkg="raspicam_node" name="raspicam" respawn="true">
            <param name="camera_info_url" value="file://$(find ecn_bluerov)/launch/cam_air.yaml"/>
            <param name="width" value="640"/>
            <param name="height" value="480"/>
            <param name="framerate" value="20"/>
            <param name="camera_frame_id" value="raspicam"/>
        </node>

	<node pkg="ecn_bluerov" type="pirov_imu" name="mpu_imu" respawn="true" output="screen">
		<param name="sensor_name" value="mpu" />
	</node>

	<node pkg="ecn_bluerov" type="pirov_imu" name="lsm_imu" respawn="true" output="screen">
                <param name="sensor_name" value="lsm" />
        </node>

        
       <node type="pirov_adc" pkg="ecn_bluerov" name="adc_interface" respawn="true" output="screen"/>
        
       <node type="bar30.py" pkg="ecn_bluerov" name="barometer_interface" respawn="true"/>
        
        <!-- robot model -->        
        <rosparam file="$(find ecn_bluerov)/config/pirov_real.yaml" command="load"/>
        <param name="robot_description_no_mesh" command="$(find xacro)/xacro $(find ecn_bluerov)/urdf/pirov.xacro use_mesh:=false"/>
        <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" respawn="true">
            <remap from="robot_description" to="robot_description_no_mesh"/>
            <remap from="joint_states" to="joint_command"/>
        </node>
        
    </group>
</launch>
